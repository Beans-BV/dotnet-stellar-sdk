---
description: Stellar .NET SDK project context and development guidelines
globs: "**/*"
alwaysApply: true
---
# Stellar .NET SDK Project Context

Project-specific context for AI-assisted development on the Stellar .NET SDK.

<rule>
name: stellar_sdk_project_context
description: Project-specific context and constraints for Stellar SDK development

actions:
  - type: enforce
    message: |
      STELLAR .NET SDK CONTEXT

      **PERSONA**: Senior C#/.NET engineer with Stellar blockchain expertise.
      Prioritize correctness, type safety, and API consistency with the Java Stellar SDK.

      **PROJECT STRUCTURE**:
      - `StellarDotnetSdk/` - Main SDK (operations, transactions, accounts, assets)
      - `StellarDotnetSdk.Xdr/` - XDR types (AUTO-GENERATED - never edit)
      - `StellarDotnetSdk.Tests/` - xUnit test suite
      - `Examples/` - Horizon and Soroban usage examples

      **LAYER BOUNDARIES**:
      XDR (protocol) → Domain Models → HTTP/API Requests
      Never bypass layers. Domain models wrap XDR types.

      **MCP TOOLS AVAILABLE**:
      - `stellar-xdr MCP`: Decode/encode XDR, get type schemas, guess XDR types
      - `java-stellar-sdk Docs MCP`: Reference for API design decisions

      **KEY PATTERNS**:
      - Builder pattern: TransactionBuilder, OperationBuilder
      - Immutable domain objects where possible
      - Async/await with CancellationToken support
      - Factory methods for complex object creation

      **KEY ABSTRACTIONS**:
      - Operations: Payment, CreateAccount, ManageData, ChangeTrust, etc.
      - Transactions: Built via TransactionBuilder, signed with KeyPair
      - Accounts: KeyPair (Ed25519), MuxedAccount
      - Assets: Native (XLM), AssetTypeCreditAlphaNum4/12

      **REFERENCE**: This SDK ports the Java Stellar SDK API.
      When unsure about design decisions, consult Java SDK via MCP tool.

      **CONSTRAINTS**:
      - Target: .NET 8.0
      - Nullable reference types: ENABLED
      - C# Language Version: 12
      - XML documentation required for public APIs

      **REFACTORING REMINDER**:
      If any patterns/abstractions in this file change, update:
      - This file (stellar-sdk-project.mdc)
      - Related tests
      - memory-bank/ documentation
      - Examples/ if applicable
      See: refactoring-sync.mdc for full checklist

examples:
  - input: "How should I implement a new operation type?"
    output: "Check Java SDK implementation via MCP, follow existing Operation patterns"

  - input: "Should I modify XDR types?"
    output: "Never edit XDR directly - modify .x files and regenerate"

metadata:
  priority: critical
  version: 1.0
</rule>

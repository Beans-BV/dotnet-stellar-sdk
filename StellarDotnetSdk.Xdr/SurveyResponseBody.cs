// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten

namespace StellarDotnetSdk.Xdr;

// === xdr source ============================================================

//  union SurveyResponseBody switch (SurveyMessageResponseType type)
//  {
//  case SURVEY_TOPOLOGY_RESPONSE_V2:
//      TopologyResponseBodyV2 topologyResponseBodyV2;
//  };

//  ===========================================================================
public class SurveyResponseBody
{
    public SurveyMessageResponseType Discriminant { get; set; } = new();

    public TopologyResponseBodyV2 TopologyResponseBodyV2 { get; set; }

    public static void Encode(XdrDataOutputStream stream, SurveyResponseBody encodedSurveyResponseBody)
    {
        stream.WriteInt((int)encodedSurveyResponseBody.Discriminant.InnerValue);
        switch (encodedSurveyResponseBody.Discriminant.InnerValue)
        {
            case SurveyMessageResponseType.SurveyMessageResponseTypeEnum.SURVEY_TOPOLOGY_RESPONSE_V2:
                TopologyResponseBodyV2.Encode(stream, encodedSurveyResponseBody.TopologyResponseBodyV2);
                break;
        }
    }

    public static SurveyResponseBody Decode(XdrDataInputStream stream)
    {
        var decodedSurveyResponseBody = new SurveyResponseBody();
        var discriminant = SurveyMessageResponseType.Decode(stream);
        decodedSurveyResponseBody.Discriminant = discriminant;
        switch (decodedSurveyResponseBody.Discriminant.InnerValue)
        {
            case SurveyMessageResponseType.SurveyMessageResponseTypeEnum.SURVEY_TOPOLOGY_RESPONSE_V2:
                decodedSurveyResponseBody.TopologyResponseBodyV2 = TopologyResponseBodyV2.Decode(stream);
                break;
        }
        return decodedSurveyResponseBody;
    }
}